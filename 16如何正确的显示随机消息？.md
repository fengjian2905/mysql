# 如何正确的显示随机消息？

> 病症：直接从一个单词表中随机选出三个单词

## 数据准备

``` sql
create table `words`(
    `id` int(11) not null auto_increment,
    `word` varchar(64) default null,
    primary key (`id`)
) engine = InnoDB;

```

``` sql
delimiter ;;
create procedure idata2()
begin
    declare i int;
    set i=0;
    while i<10000 do
        insert into words(word) values(concat(char(97+(i div 1000)),char(97+(i%1000 div 100)),char(97+(i%100 div 10)),char(97+(i%10))));
        set i=i+1;
    end while;
end;;
delimiter ;

call idata2();
```

## 方式一: order by rand()

``` sql
select word from words order by rand() limit 3;
```


mysql> explain select word from words order by rand() limit 3;

+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra                           |
+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+
|  1 | SIMPLE      | words | NULL       | ALL  | NULL          | NULL | NULL    | NULL | 9980 |   100.00 | Using temporary; Using filesort |
+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+---------------------------------+

1. extra 字段显示：
   Using temporary 使用临时表  
   Using filesort 使用排序  

