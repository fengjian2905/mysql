# 普通索引和唯一索引

## 查询过程的不同

1. 普通索引，查找到满足条件的第一个记录后，需要查找下一个记录，查到第一个不满足
   的记录后停止；
2. 唯一索引，由于唯一性，查找到第一个满足条件的记录后就停止检索；

**多查找一次的性能差距，微乎其微**，若记录是所在数据页的最后一条记录，那么又会稍微复杂一点，但这中概率也是微乎其微

## 更新过程的不同

1. 普通索引可以用到**change_buffer**来减少随机读IO的成本（不影响数据一致性的前提下，直接将更新操作记录在`change_buffer`中）
2. 唯一索引则无法使用change_buffer，因为数据的唯一性校验决定了要把数据页读入内存中来
3. `change_buffer`的**merge**时机：
   1. 访问数据页
   2. 后台线程定期merge
   3. 数据库正常关闭（shutdown）
   
## redo log 与 change_buffer的区别

1. redo log 减少随机IO写
2. change_buffer减少随机IO读